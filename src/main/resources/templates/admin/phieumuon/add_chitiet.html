<!DOCTYPE html >
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Phiếu mượn</title>
</head>
<body>


<!DOCTYPE html >
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

    <title>Home_admin</title>

    <meta name="robots" content="noindex, nofollow" />

    <link rel="shortcut icon" th:href="@{../admin/images/icon.png}" type="image/x-icon"/>
    <link rel="stylesheet" type="text/css" th:href="@{/admin/crown/css/main.css}" />
    <link rel="stylesheet" type="text/css" th:href="@{/admin/css/css.css}" media="screen" />


    <!--    <script type="text/javascript">-->
    <!--        var admin_url 	= '';-->
    <!--        var base_url 	= '';-->
    <!--        var public_url 	= '';-->
    <!--    </script>-->

    <script type="text/javascript" th:src="@{../admin/js/jquery/jquery.min.js}"></script>
    <script type="text/javascript" th:src="@{../admin/js/jquery/jquery-ui.min.js}"></script>

    <script type="text/javascript" th:src="@{../crown/js/plugins/spinner/jquery.mousewheel.js}"></script>

    <script type="text/javascript" th:src="@{../admin/crown/js/plugins/forms/uniform.js}"></script>
    <script type="text/javascript" th:src="@{../admin/crown/js/plugins/forms/jquery.tagsinput.min.js}"></script>
    <script type="text/javascript" th:src="@{../admin/crown/js/plugins/forms/jquery.tagsinput.min.js}"></script>
    <script type="text/javascript" th:src="@{../admin/crown/js/plugins/forms/jquery.tagsinput.min.js}"></script>
    <script type="text/javascript" th:src="@{../admin/crown/js/plugins/forms/jquery.tagsinput.min.js}"></script>
    <script type="text/javascript" th:src="@{../admin/crown/js/plugins/forms/autogrowtextarea.js}"></script>
    <script type="text/javascript" th:src="@{../admin/crown/js/plugins/forms/jquery.maskedinput.min.js}"></script>
    <script type="text/javascript" th:src="@{../admin/crown/js/plugins/forms/jquery.inputlimiter.min.js}"></script>

    <script type="text/javascript" th:src="@{../admin/crown/js/plugins/tables/datatable.js}"></script>
    <script type="text/javascript" th:src="@{../admin/crown/js/plugins/tables/tablesort.min.js}"></script>
    <script type="text/javascript" th:src="@{../admin/crown/js/plugins/tables/resizable.min.js}"></script>

    <script type="text/javascript" th:src="@{../admin/crown/js/plugins/ui/jquery.tipsy.js}"></script>
    <script type="text/javascript" th:src="@{../admin/crown/js/plugins/ui/jquery.collapsible.min.js}"></script>
    <script type="text/javascript" th:src="@{../admin/crown/js/plugins/ui/jquery.progress.js}"></script>
    <script type="text/javascript" th:src="@{../admin/crown/js/plugins/ui/jquery.timeentry.min.js}"></script>
    <script type="text/javascript" th:src="@{../admin/crown/js/plugins/ui/jquery.colorpicker.js}"></script>
    <script type="text/javascript" th:src="@{../admin/crown/js/plugins/ui/jquery.jgrowl.js}"></script>
    <script type="text/javascript" th:src="@{../admin/crown/js/plugins/ui/jquery.breadcrumbs.js}"></script>
    <script type="text/javascript" th:src="@{../admin/crown/js/plugins/ui/jquery.sourcerer.js}"></script>

    <script type="text/javascript" th:src="@{../admin/crown/js/custom.js}"></script>


    <script type="text/javascript" th:src="@{../js/ckeditor/ckeditor.js}"></script>
    <script type="text/javascript" th:src="@{../js/jquery/chosen/chosen.jquery.min.js}"></script>
    <script type="text/javascript" th:src="@{../js/jquery/scrollTo/jquery.scrollTo.js}"></script>
    <script type="text/javascript" th:src="@{../js/jquery/number/jquery.number.min.js}"></script>
    <script type="text/javascript" th:src="@{../js/jquery/formatCurrency/jquery.formatCurrency-1.4.0.min.js}"></script>
    <script type="text/javascript" th:src="@{../js/jquery/zclip/jquery.zclip.js}"></script>

    <script type="text/javascript" th:src="@{../js/jquery/colorbox/jquery.colorbox.js}"></script>
    <link rel="stylesheet" type="text/css" th:href="@{../js/jquery/colorbox/colorbox.css}" media="screen" />

    <script  th:src="@{../js/custom_admin.js}" type="text/javascript"></script>
    <style>
        .main_container {
            width: 100%;
            padding: 30px;
            display: flex;
            justify-content: center;
            align-items: center;
            background:#f2f2f2;
            box-shadow: 2px 1px 3px 2px  orange;
        }
        .form_container {
            border: 1px solid orange;
            padding: 25px 40px 67px;
            margin-top: 20px;
            box-shadow: 1px 1px 4px 4px #ddd;
        }
        .title {
            font-size: 25px;
            font-weight: 600;
            padding-bottom: 20px;
            display: flex;
            justify-content: center;
            color: orange;
        }
        input[type=text], select {
            width: 300px !important;
            padding: 9px;
            margin: 8px 0;
            display: inline-block;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-sizing: border-box;
        }

        .req {
            color: red;
        }
        .formRow {
            display: flex;
            align-items: center;
        }
        .formLeft {
            width: 118px !important;
        }
        .formValidate {
            display: flex;
            align-items: center;
        }
        .btn {
            border-radius: 7px;
            padding: 9px 24px;
            border: none;
            background: orange;
            color: white;
            display: flex;
            margin: auto;
        }
        .btn:hover {
            opacity: 0.7;
        }
    </style>
</head>

<body>

<!-- Left side content -->
<div id="left_content">
    <div id="leftSide" style="padding-top:30px;">

        <!-- Account panel -->

        <div class="sideProfile">
            <a href="#" title="" class="profileFace"><img width="40" th:src="@{../admin/images/user.png}" /></a>
            <span>Xin chào: <strong>admin!</strong></span>
            <div class="clear"></div>
        </div>
        <div class="sidebarSep"></div>
        <!-- Left navigation -->

        <ul id="menu" class="nav">

            <li class="home">

                <a class="active" id="current">
                    <span>Bảng điều khiển</span>
                    <strong></strong>
                </a>


            </li>
            <li class="tran">

                <a class=" exp" >
                    <span>Quản lý phiếu </span>
                    <strong>4</strong>
                </a>

                <ul class="sub">
                    <li >
                        <a th:href="@{/list-phieumuon}">
                            Phiếu mượn							</a>
                    </li>
                    <li >
                        <a th:href="@{/queue-phieumuon}">
                            Hàng Đợi						</a>
                    </li>
                    <li >
                        <a th:href="@{/add-phieumuon}">
                            Thêm phiếu						</a>
                    </li>
                    <li >
                        <a th:href="@{/list-luutru}">
                            Phiếu trả					</a>
                    </li>
                </ul>

            </li>
            <li class="product">

                <a class=" exp" >
                    <span>Tủ Sách</span>
                    <strong>3</strong>
                </a>

                <ul class="sub">
                    <li >
                        <a th:href="@{/list-sach}">
                            Sách 							</a>
                    </li>
                    <li >
                        <a th:href="@{/add-sach}">
                            Thêm Sách						</a>
                    </li>
                    <li >
                        <a th:href="@{/luutru-sach}">
                            Kho							</a>
                    </li>
                </ul>

            </li>
            <li class="account">

                <a class=" exp" >
                    <span>Tài khoản</span>
                    <strong>3</strong>
                </a>

                <ul class="sub">
                    <li >
                        <a th:href="@{/list-nhansu}">
                            Ban quản trị - nhân viên trực							</a>
                    </li>
                    <li >
                        <a th:href="@{/add-nhansu}">
                            Thêm nhân viên						</a>
                    </li>
                    <li >
                        <a th:href="@{/luutru-nhansu}">
                            Danh sách nhân viên					</a>
                    </li>
                </ul>

            </li>
            <li class="support">

                <a class=" exp" >
                    <span>Thẻ thư viện</span>
                    <strong>3</strong>
                </a>

                <ul class="sub">
                    <li >
                        <a th:href="@{/list-thetv}">
                            Danh sách thẻ					</a>
                    </li>
                    <li >
                        <a th:href="@{/add-thetv}">
                            Thêm thẻ 							</a>
                    </li>
                    <li >
                        <a th:href="@{/luutru-thetv}">
                            Lưu trữ							</a>
                    </li>
                </ul>

            </li>
            <li class="content">

                <a class=" exp" >
                    <span>Thống Kê</span>
                    <strong>2</strong>
                </a>

                <ul class="sub">
                    <li >
                        <a th:href="@{/thongke-sach}">
                            Sách cần nhập thêm							</a>
                    </li>
                    <li >
                        <a th:href="@{/thongke}">
                            Sách đã cho mượn					</a>
                    </li>

                </ul>

            </li>
            <li class="content">

                <a class=" exp" >
                    <span>Độc Giả</span>
                    <strong>3</strong>
                </a>

                <ul class="sub">
                    <li >
                        <a th:href="@{/list-docgia}">
                            Danh sách Độc Giả							</a>
                    </li>
                    <li >
                        <a th:href="@{/-docgia}">
                            Thêm Độc Giả						</a>
                    </li>
                    <li >
                        <a th:href="@{/capthe-docgia}">
                            Danh Sách Cấp Thẻ					</a>
                    </li>
                </ul>
            </li>
        </ul>
    </div>
</div>


<!-- Right side -->
<div id="rightSide">

    <!-- Account panel top -->

    <div class="topNav">
        <div class="wrapper">
            <div class="welcome">
                <span>Xin chào: <b>admin!</b></span>
            </div>

            <div class="userNav">
                <ul>
                    <li><a href="/home">
                        <img style="margin-top:7px;" th:src="@{../admin/images/icons/light/home.png}" />
                        <span>Trang chủ</span>
                    </a></li>

                    <!-- Logout -->
                    <li><a th:href="@{/log-out}">
                        <img th:src="@{../admin/images/icons/topnav/logout.png}" alt="" />
                        <span>Đăng xuất</span>
                    </a></li>

                </ul>
            </div>

            <div class="clear"></div>
        </div>
    </div>

    <!-- Main content -->
    <!-- Main content wrapper -->
    <div class="wrapper">
        <div class="widget main_container">
            <form th:action="@{/add-chitietphieu}" th:object="${pmdto}" method="POST" multiple="">
                <div class="widget form_container">
                    <div class="title">
                        <span>Nhập dữ liệu cho phiếu mượn</span>
                    </div>
                    <!--                        <div class="col-lg">-->
                    <!--                            <label>mã phiếu</label>-->
                    <!--                            <input class="form-control" style="border-radius: 10px" th:field="${pmdto.maPhieuMuon}" th:value="${pmdto.maPhieuMuon}" placeholder="name" type="text" required>-->
                    <!--                        </div>&lt;!&ndash; col &ndash;&gt;-->
                    <div class="formRow">
                        <label class="formLeft" >Mã Phiếu Mượn </label>
                        <div class="formRight">
                            <span class="oneTwo"><input name="name"  _autocheck="true" type="text" th:field="${pmdto.maPhieuMuon}" readonly /></span>
                            <span name="name_autocheck" class="autocheck"></span>
                            <div name="name_error" class="clear error"></div>
                        </div>
                        <div class="clear"></div>
                    </div>
                    <span style="margin: 20px 0; font-size: 20px;display: flex;justify-content: center;">Chi tiết sản phẩm nhập</span>

                    <th:block th:object="${chitietList}">
                        <th:block th:each="p, st : *{chiTietMuonList}">
                            <div class="row row-sm">
                                <div class="col-sm" style="display: flex; justify-content: center;align-items: center">
<!--                                    <label style="width: 118px;">Tên hàng</label>-->
<!--                                    <input class="form-control" style="border-radius:7px"-->
<!--                                           th:field="*{chiTietMuonList[__${st.index}__].sach.maSach}"-->
<!--                                           placeholder=""-->
<!--                                           type="text" required-->
<!--                                    />-->

                                    <div class="formRow">
                                        <div class="formValidate">
                                            <label class="formLeft" >Mã Sách :<span class="req">*</span></label>
                                            <div class="formRight">
                                                <select class="form-control select2" th:field="*{chiTietMuonList[__${st.index}__].sach.maSach}">
                                                    <option label="Chọn mã Sách" value=""></option>
                                                    <th:block th:each="u : ${sach}">
                                                        <option th:value="${u.maSach}" th:utext="${u.maSach}"></option>
                                                    </th:block>
                                                </select>
                                            </div>
                                        </div>
                                        <div style="color: red;" name="name_autocheck" class="autocheck check_docgia"/>
                                    </div>
                                </div>
                                <div class="col-sm" style="display: flex; justify-content: center;align-items: center">
                                    <label style="width: 118px;">Số lượng</label>
                                    <input class="form-control" style="border-radius: 7px"
                                           th:field="*{chiTietMuonList[__${st.index}__].soLuongMuon}"
                                           placeholder=""
                                           type="text" required
                                    />
                                </div>
                            </div>
                        </th:block>
                    </th:block>
                    <div style="margin-top: 30px;">
                        <button type="submit" class="btn btn-primary">Lưu</button>
                    </div>
                </div>
            </form>

        </div>
    </div>
    <div class="view-search"  style="width: 1000px; height: 300px; overflow: hidden">
        <iframe th:src="@{/list-search}" width="1000px" height="300px" ></iframe>
    </div>


</div>

</div>
<!--<script>-->
<!--    document.getElementById("form").addEventListener("submit", function(event) {-->
<!--        var array = document.getElementsByTagName('input');-->
<!--        var numberRegex = /^\d+$/;-->
<!--        if (array[0].value == "") {-->
<!--            document.querySelector('.check_name').innerHTML = "Tên hàng không được để trống!";-->
<!--            event.preventDefault();-->
<!--        } else {-->
<!--            document.querySelector('.check_name').innerHTML = "";-->
<!--        }-->
<!--        if (array[1].value == "") {-->
<!--            document.querySelector('.check_soluong').innerHTML = "Số lượng không được để trống!";-->
<!--            event.preventDefault();-->
<!--        }  else if(!numberRegex.test(array[1].value)) {-->
<!--            document.querySelector('.check_soluong').innerHTML = "Vui lòng chỉ nhập số!";-->
<!--            event.preventDefault();-->
<!--        } else {-->
<!--            document.querySelector('.check_soluong').innerHTML = "";-->
<!--        }-->
<!--    });-->
<!--</script>-->
</body>
</html>
