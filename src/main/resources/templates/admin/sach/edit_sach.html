
<!DOCTYPE html >
<html xmlns:th="http://www.thymeleaf.org">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

  <title>Home_admin</title>

  <meta name="robots" content="noindex, nofollow" />

  <link rel="shortcut icon" th:href="@{../admin/images/icon.png}" type="image/x-icon"/>
  <link rel="stylesheet" type="text/css" th:href="@{/admin/crown/css/main.css}" />
  <link rel="stylesheet" type="text/css" th:href="@{/admin/css/css.css}" media="screen" />


  <!--    <script type="text/javascript">-->
  <!--        var admin_url 	= '';-->
  <!--        var base_url 	= '';-->
  <!--        var public_url 	= '';-->
  <!--    </script>-->

  <script type="text/javascript" th:src="@{../admin/js/jquery/jquery.min.js}"></script>
  <script type="text/javascript" th:src="@{../admin/js/jquery/jquery-ui.min.js}"></script>

  <script type="text/javascript" th:src="@{../crown/js/plugins/spinner/jquery.mousewheel.js}"></script>

  <script type="text/javascript" th:src="@{../admin/crown/js/plugins/forms/uniform.js}"></script>
  <script type="text/javascript" th:src="@{../admin/crown/js/plugins/forms/jquery.tagsinput.min.js}"></script>
  <script type="text/javascript" th:src="@{../admin/crown/js/plugins/forms/jquery.tagsinput.min.js}"></script>
  <script type="text/javascript" th:src="@{../admin/crown/js/plugins/forms/jquery.tagsinput.min.js}"></script>
  <script type="text/javascript" th:src="@{../admin/crown/js/plugins/forms/jquery.tagsinput.min.js}"></script>
  <script type="text/javascript" th:src="@{../admin/crown/js/plugins/forms/autogrowtextarea.js}"></script>
  <script type="text/javascript" th:src="@{../admin/crown/js/plugins/forms/jquery.maskedinput.min.js}"></script>
  <script type="text/javascript" th:src="@{../admin/crown/js/plugins/forms/jquery.inputlimiter.min.js}"></script>

  <script type="text/javascript" th:src="@{../admin/crown/js/plugins/tables/datatable.js}"></script>
  <script type="text/javascript" th:src="@{../admin/crown/js/plugins/tables/tablesort.min.js}"></script>
  <script type="text/javascript" th:src="@{../admin/crown/js/plugins/tables/resizable.min.js}"></script>

  <script type="text/javascript" th:src="@{../admin/crown/js/plugins/ui/jquery.tipsy.js}"></script>
  <script type="text/javascript" th:src="@{../admin/crown/js/plugins/ui/jquery.collapsible.min.js}"></script>
  <script type="text/javascript" th:src="@{../admin/crown/js/plugins/ui/jquery.progress.js}"></script>
  <script type="text/javascript" th:src="@{../admin/crown/js/plugins/ui/jquery.timeentry.min.js}"></script>
  <script type="text/javascript" th:src="@{../admin/crown/js/plugins/ui/jquery.colorpicker.js}"></script>
  <script type="text/javascript" th:src="@{../admin/crown/js/plugins/ui/jquery.jgrowl.js}"></script>
  <script type="text/javascript" th:src="@{../admin/crown/js/plugins/ui/jquery.breadcrumbs.js}"></script>
  <script type="text/javascript" th:src="@{../admin/crown/js/plugins/ui/jquery.sourcerer.js}"></script>

  <script type="text/javascript" th:src="@{../admin/crown/js/custom.js}"></script>


  <script type="text/javascript" th:src="@{../js/ckeditor/ckeditor.js}"></script>
  <script type="text/javascript" th:src="@{../js/jquery/chosen/chosen.jquery.min.js}"></script>
  <script type="text/javascript" th:src="@{../js/jquery/scrollTo/jquery.scrollTo.js}"></script>
  <script type="text/javascript" th:src="@{../js/jquery/number/jquery.number.min.js}"></script>
  <script type="text/javascript" th:src="@{../js/jquery/formatCurrency/jquery.formatCurrency-1.4.0.min.js}"></script>
  <script type="text/javascript" th:src="@{../js/jquery/zclip/jquery.zclip.js}"></script>

  <script type="text/javascript" th:src="@{../js/jquery/colorbox/jquery.colorbox.js}"></script>
  <link rel="stylesheet" type="text/css" th:href="@{../js/jquery/colorbox/colorbox.css}" media="screen" />

  <script  th:src="@{../js/custom_admin.js}" type="text/javascript"></script>
  <style>
    .main_container {
      width: 100%;
      padding: 30px;
      display: flex;
      justify-content: center;
      align-items: center;
      background:#f2f2f2;
      box-shadow: 2px 1px 3px 2px  #4fa5ff;
    }
    .form_container {
      border: 1px solid #4fa5ff;
      padding: 25px 40px 67px;
      margin-top: 20px;
      box-shadow: 1px 1px 4px 4px #ddd;
    }
    .title {
      font-size: 25px;
      font-weight: 600;
      padding-bottom: 20px;
      display: flex;
      justify-content: center;
      color: #4fa5ff;
    }
    input[type=text], select {
      width: 300px !important;
      padding: 9px;
      margin: 8px 0;
      display: inline-block;
      border: 1px solid #ccc;
      border-radius: 4px;
      box-sizing: border-box;
    }
    .req {
      color: red;
    }
    .formRow {
      display: flex;
      align-items: center;
      flex-direction: column;
    }
    .formLeft {
      width: 118px !important;
    }
    .formValidate {
      display: flex;
      align-items: center;
    }
  </style>
</head>

<body>

<!-- Left side content -->
<div id="left_content">
  <div id="leftSide" style="padding-top:30px;">

    <!-- Account panel -->

    <div class="sideProfile">
      <a href="#" title="" class="profileFace"><img width="40" th:src="@{../admin/images/user.png}" /></a>
      <span th:utext="${userName}"></span>
      <div class="clear"></div>
    </div>
    <div class="sidebarSep"></div>
    <!-- Left navigation -->

    <ul id="menu" class="nav">

      <li class="home">

        <a class="active" id="current">
          <span>Bảng điều khiển</span>
          <strong></strong>
        </a>


      </li>
      <li class="tran">

        <a class=" exp" >
          <span>Quản lý phiếu </span>
          <strong>4</strong>
        </a>

        <ul class="sub">
          <li >
            <a th:href="@{/list-phieumuon}">
              Phiếu mượn							</a>
          </li>
          <li >
            <a th:href="@{/queue-phieumuon}">
              Hàng Đợi						</a>
          </li>
          <li >
            <a th:href="@{/add-phieumuon}">
              Thêm phiếu						</a>
          </li>
          <li >
            <a th:href="@{/list-luutru}">
              Phiếu trả					</a>
          </li>
        </ul>

      </li>
      <li class="product">

        <a class=" exp" >
          <span>Tủ Sách</span>
          <strong>3</strong>
        </a>

        <ul class="sub">
          <li >
            <a th:href="@{/list-sach}">
              Sách 							</a>
          </li>
          <li >
            <a th:href="@{/add-sach}">
              Thêm Sách						</a>
          </li>
          <li >
            <a th:href="@{/luutru-sach}">
              Kho							</a>
          </li>
        </ul>

      </li>
<!--      <li class="account">-->

<!--        <a class=" exp" >-->
<!--          <span>Tài khoản</span>-->
<!--          <strong>1</strong>-->
<!--        </a>-->

<!--        <ul class="sub">-->

<!--          <li >-->
<!--            <a th:href="@{/registration}">-->
<!--              Thêm tài khoản						</a>-->
<!--          </li>-->

<!--        </ul>-->

<!--      </li>-->
      <li class="support">

        <a class=" exp" >
          <span>Thẻ thư viện</span>
          <strong>3</strong>
        </a>

        <ul class="sub">
          <li >
            <a th:href="@{/list-thetv}">
              Danh sách thẻ					</a>
          </li>
          <li >
            <a th:href="@{/add-thetv}">
              Thêm thẻ 							</a>
          </li>
          <li >
            <a th:href="@{/luutru-thetv}">
              Lưu trữ							</a>
          </li>
        </ul>

      </li>
      <li class="content">

        <a class=" exp" >
          <span>Thống Kê</span>
          <strong>2</strong>
        </a>

        <ul class="sub">
          <li >
            <a th:href="@{/thongke-sach}">
              Sách cần nhập thêm							</a>
          </li>
          <li >
            <a th:href="@{/thongke}">
              Sách đã cho mượn					</a>
          </li>

        </ul>

      </li>
      <li class="content">

        <a class=" exp" >
          <span>Độc Giả</span>
          <strong>3</strong>
        </a>

        <ul class="sub">
          <li >
            <a th:href="@{/list-docgia}">
              Danh sách Độc Giả							</a>
          </li>
          <li >
            <a th:href="@{/add-docgia}">
              Thêm Độc Giả						</a>
          </li>
          <li >
            <a th:href="@{/capthe-docgia}">
              Danh Sách Cấp Thẻ					</a>
          </li>
        </ul>
      </li>
    </ul>
  </div>
</div>


<!-- Right side -->
<div id="rightSide">

  <!-- Account panel top -->

  <div class="topNav">
    <div class="wrapper">
      <div class="welcome">
        <span>Xin chào: <b>admin!</b></span>
      </div>

      <div class="userNav">
        <ul>
          <li><a href="/home">
            <img style="margin-top:7px;" th:src="@{../admin/images/icons/light/home.png}" />
            <span>Trang chủ</span>
          </a></li>

          <!-- Logout -->
          <li><a th:href="@{/logout}">
            <img th:src="@{../admin/images/icons/topnav/logout.png}" alt="" />
            <span>Đăng xuất</span>
          </a></li>

        </ul>
      </div>

      <div class="clear"></div>
    </div>
  </div>

  <!-- Main content -->
  <!-- Main content wrapper -->
  <div class="wrapper">
    <div class="widget main_container">
      <div class="wrapper">

        <!-- Form -->
        <<form class="form" id="form" th:action="@{/update-sach}" th:object="${sach}" method="post" enctype="multipart/form-data">
        <div class="widget form_container">
          <div class="title">
            <span>Chỉnh sửa thông tin nhập sách</span>
          </div>

          <div class="tab_container">
            <div id='tab1' class="tab_content pd0">
              <!-- Tên Sách -->
              <div class="formRow">
                <div class="formValidate">
                  <label class="formLeft" for="param_name">Tên Sách <span class="req">*</span></label>
                  <div class="formRight">
                <span class="oneTwo">
                  <input name="name" id="tenSach" _autocheck="true" type="text" th:field="${sach.tenSach}" />
                </span>
                  </div>
                </div>
                <div style="color: red;" name="name_autocheck" class="autocheck check_name"></div>
              </div>

              <!-- Tác Giả -->
              <div class="formRow">
                <div class="formValidate">
                  <label class="formLeft" for="param_name">Tác Giả <span class="req">*</span></label>
                  <div class="formRight">
                <span class="oneTwo">
                  <input name="name" id="tacGia" _autocheck="true" type="text" th:field="${sach.tacGia}" />
                </span>
                  </div>
                </div>
                <div style="color: red;" name="name_autocheck" class="autocheck check_tacgia"></div>
              </div>

              <!-- Năm Xuất Bản -->
              <div class="formRow">
                <div class="formValidate">
                  <label class="formLeft" for="param_name">Năm Xuất Bản <span class="req">*</span></label>
                  <div class="formRight">
                <span class="oneTwo">
                  <input name="name" id="namXB" _autocheck="true" type="text" th:field="${sach.namXB}" />
                </span>
                  </div>
                </div>
                <div style="color: red;" name="name_autocheck" class="autocheck check_namxb"></div>
              </div>

              <!-- Số Lượng Còn -->
              <div class="formRow">
                <div class="formValidate">
                  <label class="formLeft" for="param_name">Số Lượng Còn <span class="req">*</span></label>
                  <div class="formRight">
                <span class="oneTwo">
                  <input name="name" id="soLuongCon" _autocheck="true" type="text" th:field="${sach.soLuongCon}" />
                </span>
                  </div>
                </div>
                <div style="color: red;" name="name_autocheck" class="autocheck check_soluong"></div>
              </div>

              <!-- Nhà Xuất Bản -->
              <div class="formRow">
                <div class="formValidate">
                  <label class="formLeft" for="param_name">Nhà Xuất Bản <span class="req">*</span></label>
                  <div class="formRight">
                <span class="oneTwo">
                  <input name="name" id="NXB" _autocheck="true" type="text" th:field="${sach.NXB}" />
                </span>
                  </div>
                </div>
                <div style="color: red;" name="name_autocheck" class="autocheck check_nhaxb"></div>
              </div>

              <!-- Ma Sách -->
              <div class="col-lg">
                <input class="form-control" style="border-radius: 10px" th:field="${sach.maSach}" th:value="${maDocGiax}" placeholder="" type="hidden" hidden>
              </div>
            </div>
            <div class="formSubmit">
              <button type="submit" class="redB">Lưu</button>
              <input type="reset" value="Hủy bỏ" class="basic" />
            </div>
          </div>
        </div>
      </form>

<!--        <script type="text/javascript">-->
<!--          // Kiểm tra giá trị nhập của trường "Năm Xuất Bản"-->
<!--          var namXBInput = document.getElementById('namXB');-->

<!--          namXBInput.addEventListener('input', function() {-->
<!--            var namXB = parseInt(namXBInput.value);-->
<!--            var currentYear = new Date().getFullYear();-->

<!--            if (namXB < 1900 || namXB > currentYear) {-->
<!--              namXBInput.setCustomValidity('Năm xuất bản phải nằm trong khoảng từ 1000 đến ' + currentYear);-->
<!--            } else {-->
<!--              namXBInput.setCustomValidity('');-->
<!--            }-->
<!--          });-->
<!--        </script>-->
      </div>
    </div>
  </div>
</div>
</div>
</div>
<script>
  document.getElementById("form").addEventListener("submit", function(event) {
    var array = document.getElementsByTagName('input');
    var numberRegex = /^\d+$/;
    if (array[0].value == "") {
      document.querySelector('.check_name').innerHTML = "Tên sách không được để trống!";
      event.preventDefault();
    } else {
      document.querySelector('.check_name').innerHTML = "";
    }
    if (array[1].value == "") {
      document.querySelector('.check_tacgia').innerHTML = "Tác giả không được để trống!";
      event.preventDefault();
    } else {
      document.querySelector('.check_tacgia').innerHTML = "";
    }
    if (array[2].value == "") {
      document.querySelector('.check_namxb').innerHTML = "Năm xuất bản không được để trống!";
      event.preventDefault();
    } else if(array[2].value <= 1000 || array[2].value >=2023) {
      document.querySelector('.check_namxb').innerHTML = "Năm xuất bản phải từ năm 1000 đến năm 2023";
      event.preventDefault();
    }  else if(!numberRegex.test(array[2].value)) {
      document.querySelector('.check_namxb').innerHTML = "Vui lòng chỉ nhập số nguyên dương";
      event.preventDefault();
    }else {
      document.querySelector('.check_namxb').innerHTML = "";
    }
    if (array[3].value == "") {
      document.querySelector('.check_soluong').innerHTML = "Vui lòng nhập số lượng!";
      event.preventDefault();
    } else if (array[3].value <=0 ) {
      document.querySelector('.check_soluong').innerHTML = "Số lượng phải lớn hơn 0";
      event.preventDefault();
    } else if(!numberRegex.test(array[3].value)) {
      document.querySelector('.check_soluong').innerHTML = "Vui lòng chỉ nhập số nguyên dương";
      event.preventDefault();
    }  else {
      document.querySelector('.check_soluong').innerHTML = "";
    }
    if (array[4].value == "") {
      document.querySelector('.check_nhaxb').innerHTML = "Nhà xuất bản không được để trống!";
      event.preventDefault();
    } else {
      document.querySelector('.check_nhaxb').innerHTML = "";
    }
  });
</script>
</body>
</html>